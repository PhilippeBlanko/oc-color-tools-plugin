title = "Example"
url = "/example"

==

<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background: #FAFBFD;
        color: #35425b;
    }

    .section {
        width: calc(1064px - 64px);
        height: calc(800px - 64px);
        background: white;
        border-radius: 0.3rem;
        margin: 100px auto;
        padding: 32px;
    }

    h2 {
        font-size: 20px;
        font-weight: 600;
        margin: 0 0 24px 0;
        color: #35425b;
    }

    h3 {
        font-size: 14px;
        font-weight: 500;
        margin: 0 0 8px 0;
        color: #35425b;
    }

    .demo {
        margin-bottom: 20px;
    }

    .code {
        background: #FAFBFD;
        padding: 10px 12px;
        border-radius: 6px;
        font-family: 'SF Mono', Monaco, 'Courier New', monospace;
        font-size: 13px;
        margin-bottom: 8px;
        color: #35425b;
        border: 1px solid #cfd7e1;
        line-height: 1.6;
    }

    .result {
        padding: 12px;
        border-radius: 6px;
        font-size: 13px;
        border: 1px solid #cfd7e1;
    }

    .palette {
        display: flex;
        gap: 4px;
    }

    .palette-item {
        flex: 1;
        height: 48px;
        border-radius: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 11px;
        font-family: 'SF Mono', Monaco, monospace;
        border: 1px solid rgba(0,0,0,0.1);
    }

    .info {
        font-size: 12px;
        color: #7F8C8D;
        margin-top: 4px;
    }
</style>

{% set textColor = '#3498db' %}
{% set bgColor = '#ecf0f1' %}
{% set baseColor = '#3498db' %}
{% set overlayColor = 'rgba(0,0,0,0.7)' %}
{% set darkColor = '#2c3e50' %}
{% set lightColor = '#ecf0f1' %}

<!-- Twig Filters -->
<div class="section">
    <h2>Twig Filters</h2>

    <div class="demo">
        <h3>1. Format conversion</h3>
        <div class="code">{% verbatim %}{{ '#3498db'|to_hex }}, {{ '#3498db'|to_rgb }}, {{ '#3498db'|to_rgba(0.5) }}, {{ '#3498db'|to_hsl }}{% endverbatim %}</div>
        <div class="result" style="background: {{ textColor }}; color: #fff;">
            {{ textColor|to_hex }}, {{ textColor|to_rgb }}, {{ textColor|to_rgba(0.5) }}, {{ textColor|to_hsl }}
        </div>
    </div>

    <div class="demo">
        <h3>2. Adaptive text color</h3>
        <div class="code">{% verbatim %}&lt;div style="background: {{ bgColor }}; color: {{ bgColor|best_text_color }};"&gt;{% endverbatim %}</div>
        <div class="result" style="background: {{ bgColor }}; color: {{ bgColor|best_text_color }};">
            Text displayed in {{ bgColor|best_text_color }} on {{ bgColor }} background for optimal contrast
        </div>
    </div>

    <div class="demo">
        <h3>3. WCAG contrast ratio</h3>
        <div class="code">{% verbatim %}{{ textColor|contrast_ratio(bgColor) }}{% endverbatim %}</div>
        <div class="result" style="background: {{ bgColor }}; color: {{ textColor }};">
            Contrast of {{ textColor }} on {{ bgColor }} background → {{ textColor|contrast_ratio(bgColor)|round(1) }}:1
        </div>
    </div>

    <div class="demo">
        <h3>4. Luminance calculation</h3>
        <div class="code">{% verbatim %}{{ '#2c3e50'|luminance }}, {{ '#ecf0f1'|luminance }}{% endverbatim %}</div>
        <div class="result">
            Dark color ({{ darkColor }}): {{ darkColor|luminance|round(2) }} / Light color ({{ lightColor }}): {{ lightColor|luminance|round(2) }}
        </div>
    </div>
</div>

<!-- Twig Functions -->
<div class="section">
    <h2>Twig Functions</h2>

    <div class="demo">
        <h3>1. Color mixing with color_mix</h3>
        <div class="code">{% verbatim %}{{ color_mix(baseColor, '#ffffff', 0.3) }}, {{ color_mix(baseColor, '#000000', 0.3) }}{% endverbatim %}</div>
        <div class="palette">
            <div class="palette-item" style="background: {{ baseColor }}; color: {{ baseColor|best_text_color }};">Base<br>{{ baseColor }}</div>
            <div class="palette-item" style="background: {{ color_mix(baseColor, '#ffffff', 0.3) }}; color: {{ color_mix(baseColor, '#ffffff', 0.3)|best_text_color }};">Light<br>{{ color_mix(baseColor, '#ffffff', 0.3) }}</div>
            <div class="palette-item" style="background: {{ color_mix(baseColor, '#000000', 0.3) }}; color: {{ color_mix(baseColor, '#000000', 0.3)|best_text_color }};">Dark<br>{{ color_mix(baseColor, '#000000', 0.3) }}</div>
        </div>
    </div>

    <div class="demo">
        <h3>2. Semi-transparent overlay composition</h3>
        <div class="code">{% verbatim %}{{ color_compose(overlayColor, bgColor) }}{% endverbatim %}</div>
        <div class="result" style="background: {{ overlayColor }}; color: #ffffff;">
            Text on {{ overlayColor }} overlay composed with {{ bgColor }} background
        </div>
        <div class="info">Result: {{ color_compose(overlayColor, bgColor) }}</div>
    </div>

    <div class="demo">
        <h3>3. WCAG validation</h3>
        <div class="code">{% verbatim %}{{ is_contrast_ok('#000000', '#ffffff', 'AA') }}{% endverbatim %}</div>
        <div class="result">
            Black on white AA ({{ '#000000'|contrast_ratio('#ffffff')|round }}:1) : {% if is_contrast_ok('#000000', '#ffffff', 'AA') %}✓ true{% else %}✗ false{% endif %}
        </div>
    </div>

    <div class="demo">
        <h3>4. Random color generation</h3>
        <div class="code">{% verbatim %}{% set randColor = color_random(true) %}{% endverbatim %}<br>{% verbatim %}&lt;div style="background: {{ randColor }}; color: {{ randColor|best_text_color }};"&gt;{% endverbatim %}</div>
        <div class="palette">
            {% for i in 1..5 %}
                {% set randColor = color_random(true) %}
                <div class="palette-item" style="background: {{ randColor }}; color: {{ randColor|best_text_color }};">{{ randColor }}</div>
            {% endfor %}
        </div>
        <div class="info">Examples of fancy generated colors with optimal text color</div>
    </div>

</div>
